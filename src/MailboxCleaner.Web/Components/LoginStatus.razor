@using System.Security.Claims
@using Microsoft.AspNetCore.Authentication
@using Microsoft.AspNetCore.Authentication.Cookies
@inject NavigationManager Navigation
@inject IHttpContextAccessor HttpContextAccessor

@code {
    private ClaimsPrincipal? User => HttpContextAccessor.HttpContext?.User;

    private void SignOut()
    {
        Navigation.NavigateTo("/auth/logout", forceLoad: true);
    }
}

@if (User?.Identity?.IsAuthenticated == true)
{
    <div class="text-white d-flex align-items-center gap-2">
        <span class="small">@User.Identity?.Name</span>
        <button class="btn btn-outline-light btn-sm" @onclick="SignOut">Logout</button>
    </div>
}
else
{
    <a class="btn btn-outline-light btn-sm" href="/auth/login">Login with Google</a>
}
